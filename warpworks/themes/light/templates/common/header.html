<%def name="header()">
  <nav class="navbar navbar-default navbar-light navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-light-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="${request.route_path('index')}">
          <span class="navbar-logo">${request.registry.settings['name']}</span>
        </a>
      </div>

      <div class="collapse navbar-collapse navbar-light-collapse">
        <ul class="nav navbar-nav navbar-left">
          <li><a href="${request.route_path('index')}">Editor</a></li>
          <li><a href="${request.route_path('gallery')}">Gallery</a></li>
          <li><a href="${request.route_path('about')}">About</a></li>
        </ul>

        <ul class="nav navbar-nav navbar-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              % if request.user:
                <img class="img-avatar" src="${h.gravatar_url(request.user.email, size=20, default='mm')}" alt="">
              % else:
                <img class="img-avatar" src="${h.gravatar_url('default@example.com', size=20, default='mm')}" alt="">
              % endif
            </a>
            <ul class="dropdown-menu" role="menu">
              <li><a href="${request.route_path('account')}">My Account</a></li>
              % if request.user:
                <li><a href="${request.route_path('logout')}">Sign Out</a></li>
              % else:
                <li><a href="${request.route_path('login')}">Log In</a></li>
              % endif
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</%def>
